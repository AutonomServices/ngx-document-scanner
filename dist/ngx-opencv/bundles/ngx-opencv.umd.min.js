!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-opencv",["exports","@angular/core","rxjs"],t):t(e["ngx-opencv"]={},e.ng.core,e.rxjs)}(this,function(e,n,o){"use strict";var r=new n.InjectionToken("OpenCV config object token"),i=function(){function e(e,t){this._ngZone=t,this.cvState=new o.BehaviorSubject({ready:!1,error:!1,loading:!0,state:"loading"}),e||(e={}),this.configModule=this.generateConfigModule(e),this.loadOpenCv()}return e.prototype.loadOpenCv=function(){var t=this;this.cvState.next(this.newState("loading")),window.Module=this.configModule;var e=document.createElement("script");e.setAttribute("async",""),e.setAttribute("type","text/javascript"),e.addEventListener("error",function(){var e=new Error("Failed to load "+t.configModule.scriptUrl);t.cvState.next(t.newState("error")),t.cvState.error(e)},{passive:!0}),e.src=this.configModule.scriptUrl;var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):document.head.appendChild(e)},e.prototype.newState=function(t){var n={ready:!1,loading:!1,error:!1,state:""};return Object.keys(n).forEach(function(e){"state"!==e&&(e===t?(n[e]=!0,n.state=e):n[e]=!1)}),n},e.prototype.generateConfigModule=function(e){var t=this;return{scriptUrl:e.openCVDirPath?e.openCVDirPath+"/opencv.js":"/assets/opencv/opencv.js",wasmBinaryFile:"opencv_js.wasm",usingWasm:!0,onRuntimeInitialized:function(){t._ngZone.run(function(){console.log("openCV Ready"),t.cvState.next(t.newState("ready")),e.runOnOpenCVInit&&e.runOnOpenCVInit()})}}},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Inject,args:[r]}]},{type:n.NgZone}]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e(n.inject(r),n.inject(n.NgZone))},token:e,providedIn:"root"}),e}(),t=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:r,useValue:e}]}},t.decorators=[{type:n.NgModule,args:[{declarations:[],imports:[],exports:[],providers:[i]}]}],t}();e.NgxOpenCVModule=t,e.ɵb=i,e.ɵa=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-opencv.umd.min.js.map